<app-page-header title="add customer" description="add a new customer" icon="fas fa-user-plus">
</app-page-header>

<div class="row">
    <div class="col-12">
      <form novalidate #customerForm="ngForm" (ngSubmit)="onSubmit(customerForm)">
        <div class="row justify-content-center">
          <!-- First Name Input -->
          <div class="col-md-5 mb-3">
            <label for="firstName">
              <span class="text-danger">*</span> First Name
            </label>
            <input
              type="text"
              #fnf="ngModel"
              [(ngModel)]="form.firstName"
              required
              minlength="2"
              id="firstName"
              name="firstName"
              class="form-control"
              [ngClass]="{
                'is-valid': fnf.valid && fnf.touched,
                'is-invalid': fnf.invalid && fnf.touched
              }"
            />
  
            <div class="invalid-feedback" *ngIf="fnf.errors?.required">
              First name is required
            </div>
            <div class="invalid-feedback" *ngIf="fnf.errors?.minlength">
              First name must be at least
              {{ fnf.errors.minlength.requiredLength }} characters
            </div>
  
            <!-- {{ fnf.errors | json }} -->
          </div>
  
          <!-- Last Name Input -->
          <div class="col-md-5 mb-3">
            <label for="lastName">
              <span class="text-danger">*</span> Last Name
            </label>
            <input
              type="text"
              #lnf="ngModel"
              [(ngModel)]="form.lastName"
              required
              minlength="2"
              id="lastName"
              name="lastName"
              class="form-control"
              [ngClass]="{
                'is-valid': lnf.valid && lnf.touched,
                'is-invalid': lnf.invalid && lnf.touched
              }"
            />
  
            <div class="invalid-feedback" *ngIf="lnf.errors?.required">
              Last name is required
            </div>
            <div class="invalid-feedback" *ngIf="lnf.errors?.minlength">
              Last name must be at least
              {{ lnf.errors.minlength.requiredLength }} characters
            </div>
  
            <!-- {{ lnf.errors | json }} -->
          </div>
        </div>
  
        <div class="row justify-content-center">
          <!-- Email Input -->
          <div class="col-md-5 mb-3">
            <label for="email"> <span class="text-danger">*</span> Email </label>
            <input
              type="email"
              #ef="ngModel"
              [(ngModel)]="form.email"
              required
              pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"
              id="email"
              name="email"
              class="form-control"
              [ngClass]="{
                'is-valid': ef.valid && ef.touched,
                'is-invalid': ef.invalid && ef.touched
              }"
            />
  
            <div class="invalid-feedback" *ngIf="ef.errors?.required">
              Email is required
            </div>
            <div class="invalid-feedback" *ngIf="ef.errors?.pattern">
              Enter a valid email address
            </div>
  
            <!-- {{ ef.errors | json }} -->
          </div>
  
          <!-- Phone Input -->
          <div class="col-md-5 mb-3">
            <label for="phone"> <span class="text-danger">*</span> Phone </label>
            <input
              type="tel"
              #pf="ngModel"
              [(ngModel)]="form.phone"
              required
              pattern="^0[2-9]\d{7,8}$"
              id="phone"
              name="phone"
              class="form-control"
              [ngClass]="{
                'is-valid': pf.valid && pf.touched,
                'is-invalid': pf.invalid && pf.touched
              }"
            />
  
            <div class="invalid-feedback" *ngIf="pf.errors?.required">
              Phone number is required
            </div>
            <div class="invalid-feedback" *ngIf="pf.errors?.pattern">
              {{ pf.errors.pattern.actualValue }} is not a valid phone number
            </div>
  
            <!-- {{ pf.errors | json }} -->
          </div>
        </div>
  
        <div class="row justify-content-center">
          <!-- Address Input -->
          <div class="col-md-10 mb-3">
            <label for="address">Address</label>
            <textarea
              #af="ngModel"
              [(ngModel)]="form.address"
              name="address"
              id="address"
              class="form-control"
              rows="5"
            ></textarea>
          </div>
        </div>
  
        <div class="row justify-content-center">
          <!-- Notes Input -->
          <div class="col-md-10 mb-3">
            <label for="notes">Notes</label>
            <textarea
              #af="ngModel"
              [(ngModel)]="form.notes"
              name="notes"
              id="notes"
              class="form-control"
              rows="5"
            ></textarea>
          </div>
        </div>
  
        <div class="fixed-bottom bg-light p-3 text-center">
            <a routerLink="/customers" class="btn btn-secondary">Cancel</a>
            <input
              (click)="reset(customerForm)"
              type="button"
              value="Reset"
              class="btn btn-secondary ml-3"
            />
            <input
          type="submit"
          [disabled]="customerForm.invalid"
          value="Save"
          class="btn btn-primary ml-3"
        />
          </div>
      </form>
    </div>
  </div>
  